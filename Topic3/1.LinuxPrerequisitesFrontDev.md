# Linux进程管理基础知识

## 一、进程、线程和协程概念
- 现代操作系统特点
  - 多任务操作系统
  - 可以同时执行多个任务
  - 通过时间片分配实现

### 1. 进程(Process)
- 特点
  - 操作系统能调度的基本单位(早期)
  - 消耗资源较多
  - 在内核态创建
  - 切换开销大
- 组成部分
  - 代码
  - 数据
  - 文件句柄
  - 寄存器状态
  - 栈

### 2. 线程(Thread)
- 特点
  - 依附于进程存在
  - 比进程轻量级
  - 在内核态创建
  - 一个进程可以有多个线程
  - 共享进程的资源
- 组成部分
  - 独立的寄存器状态
  - 独立的栈
  - 共享进程的代码、数据和文件句柄

### 3. 协程(Coroutine)
- 特点
  - 依附于线程存在
  - 最轻量级
  - 在用户态创建
  - 由程序自行管理
  - 不能利用多核资源

## 二、进程创建方式
### 1. fork模式
- 特点
  - 复制当前进程创建子进程
  - 完整复制包括代码、数据等
  - 子进程继承父进程的资源
- 应用场景
  - 创建多个相似的工作进程

### 2. exec模式
- 特点
  - 执行新的程序
  - 替换当前进程的代码和数据
  - 保持进程ID不变
- 应用场景
  - 启动不同的程序

## 三、进程管理工具
### 1. PM2
- 功能
  - Node.js进程管理工具
  - 支持集群模式
  - 监控进程状态
  - 自动重启
- 实现原理
  - 主进程(Master)管理工作进程
  - 使用fork创建多个工作进程
  - 绑定CPU核心

### 2. 进程管理命令
- top：系统进程监视器
- ps：查看进程状态
- kill：终止进程

## 四、免密登录配置
### 1. 配置步骤
1. 生成密钥对
   - ssh-keygen命令
   - 生成公钥和私钥

2. 上传公钥
   - ssh-copy-id命令
   - 上传到服务器指定用户目录

3. 配置本地私钥
   - 放置在~/.ssh/目录
   - 设置正确权限(600)

4. 配置config文件
   - 位置：~/.ssh/config
   - 支持单主机配置
   - 支持多主机配置

### 2. 安全考虑
- 私钥保护
- 权限设置
- 公钥分发管理

## 五、主要应用场景
### 1. 服务器管理
- 自动化运维
- 批量操作
- 远程管理

### 2. 持续集成/持续部署(CI/CD)
- 自动化部署
- 代码同步
- 环境管理